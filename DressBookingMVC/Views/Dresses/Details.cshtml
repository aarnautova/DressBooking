@model DressBookingMVC.Models.DressBookingDataModel.Dress


@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>

<div>
    <h4>Dress</h4>
    <hr />
    <p class="text-danger">@(ViewBag.Error as string)</p>
    <table class="table-condensed">
        <tr>
            <td>
                <img src="@Html.DisplayFor(model => model.FrontPicLink)" width="200" />
            </td>
            <td>
                <dl class="dl-horizontal">
                    <dt>
                        @Html.DisplayNameFor(model => model.Name)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.Name)
                    </dd>

                    <dt>
                        Size
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.Size.Name)
                    </dd>


                    <dt>
                        Price to buy
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.PriceToBuy)
                    </dd>

                    <dt>
                        Price to book
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.PriceToBook)
                    </dd>

                    <dt>
                        Is bought
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.IsBought)
                    </dd>
                    @if (User.IsInRole(DressBookingMVC.Helpers.Constants.AdminRoleName))
                    {
                        <dt>
                            @*@Html.DisplayNameFor(model => model.IsCopy)*@
                            Is copy
                        </dt>

                        <dd>
                            @Html.DisplayFor(model => model.IsCopy)
                        </dd>

                    }

                    <dt>
                        @Html.DisplayNameFor(model => model.Wedding)
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.Wedding)
                    </dd>
                    <dd>
                        <br />
                    </dd>
                    @if (!Model.IsBought)
                    {
                        <dt>
                            @Html.ActionLink("Create new order", "CreateNewOrder", new { id = Model.Id })
                        </dt>
                        <dd>
                            or
                        </dd>
                    }
                </dl>
                <hr />
                @if (!Model.IsCopy)
                {
                    using (Html.BeginForm("CreateAtelierCopy", "Dresses", new { id = Model.Id }))
                    {
                        @Html.AntiForgeryToken()
                        <dl class="dl-horizontal">
                            <dt>
                                @Html.DropDownList("SizeId", null, htmlAttributes: new { @class = "form-control" })

                            </dt>
                            <dd>
                                <input type="submit" value="Sew copy of this dress" class="btn-default" />
                            </dd>
                        </dl>
                    }
                }
            </td>
            <td></td>
        </tr>
        <tr>
            <td colspan="2">
                <p>
                    @Html.ActionLink("Back to List", "Index")
                    @if (User.IsInRole(DressBookingMVC.Helpers.Constants.AdminRoleName))
                    {
                        @:|
                        @Html.ActionLink("Edit", "Edit", new { id = Model.Id })
                    }

                </p>
            </td>
        </tr>
    </table>

</div>

